<!-- Jaccard Similarity Slides -->

<style>
  /* Mobile styling for Jaccard Similarity slides */
  @media only screen and (max-width: 768px) {
    /* Comprehensive text size reduction for all Jaccard slides */
    section h2 {
      font-size: 0.55em !important;
    }

    section h3 {
      font-size: 0.48em !important;
    }

    section p {
      font-size: 0.42em !important;
      line-height: 1.3 !important;
    }

    section p strong {
      font-size: inherit !important;
    }

    section ul li {
      font-size: 0.4em !important;
      line-height: 1.3 !important;
    }

    section table {
      font-size: 0.35em !important;
    }

    section table th,
    section table td {
      padding: 4px !important;
      font-size: inherit !important;
    }

    /* Formula boxes */
    section div[style*="background: #e3f2fd"] {
      padding: 8px !important;
      margin: 8px 0 !important;
    }

    section div[style*="background: #e3f2fd"] p {
      font-size: 0.5em !important;
      white-space: nowrap !important;
      overflow-x: auto !important;
      -webkit-overflow-scrolling: touch !important;
    }

    section div[style*="background: #e3f2fd"] p:first-child {
      font-size: 0.6em !important;
      font-family: 'Georgia', serif !important;
      font-weight: bold !important;
    }

    section div[style*="background: #e3f2fd"] p:last-child {
      font-size: 0.48em !important;
    }

    /* Other colored boxes */
    section div[style*="background: #ecf0f1"],
    section div[style*="background: #f5f5f5"],
    section div[style*="background: #f0f0f0"],
    section div[style*="background: #fff3cd"],
    section div[style*="background: #fff3e0"],
    section div[style*="background: #2ecc71"],
    section div[style*="background: #f3e5f5"] {
      padding: 6px !important;
      margin: 6px 0 !important;
      font-size: 0.4em !important;
    }

    section div[style*="background: #ecf0f1"] p,
    section div[style*="background: #f5f5f5"] p,
    section div[style*="background: #f0f0f0"] p,
    section div[style*="background: #fff3cd"] p,
    section div[style*="background: #fff3e0"] p,
    section div[style*="background: #2ecc71"] p,
    section div[style*="background: #f3e5f5"] p {
      font-size: inherit !important;
    }

    /* SVG containers */
    section svg {
      max-width: 100% !important;
      height: auto !important;
    }

    /* SVG text elements */
    section svg text {
      font-size: 9px !important;
    }

    /* Heatmap layout - stack vertically on mobile */
    section.interactive-slide div[style*="display: flex"] {
      flex-direction: column !important;
      height: auto !important;
      padding: 10px !important;
    }

    section.interactive-slide div[style*="flex: 0 0 50%"],
    section.interactive-slide div[style*="flex: 1"] {
      flex: 1 1 100% !important;
      width: 100% !important;
      padding: 0 !important;
      margin-bottom: 15px !important;
    }

    section.interactive-slide div[id*="heatmap"] {
      min-height: 400px !important;
    }

    section.interactive-slide div[id*="dendrogram"] {
      min-height: 200px !important;
    }
  }

  @media only screen and (max-width: 480px) {
    section h2 {
      font-size: 0.48em !important;
    }

    section h3 {
      font-size: 0.42em !important;
    }

    section p {
      font-size: 0.38em !important;
    }

    section ul li {
      font-size: 0.36em !important;
    }

    section table {
      font-size: 0.32em !important;
    }

    section svg text {
      font-size: 7px !important;
    }
  }
</style>

<!-- Slide 1: Jaccard Similarity - Concept -->
<section>
  <h2>Jaccard Similarity</h2>
  <p>Measures similarity between two sets as the size of their intersection divided by the size of their union</p>
  <div style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 20px; margin: 15px 0;">
    <p style="font-size: 1.3em; font-family: 'Georgia', serif; text-align: center; margin: 0; font-weight: bold;">
      J(A,B) = |A ‚à© B| / |A ‚à™ B|
    </p>
    <p style="font-size: 0.9em; text-align: center; margin: 10px 0 0 0; font-style: italic; color: #555;">
      Size of intersection divided by size of union
    </p>
  </div>
  <p style="margin-top: 20px;"><em>Example: Player transfers between football clubs</em></p>
</section>

<!-- Slide 2: Jaccard Similarity - Heatmap -->
<section class="interactive-slide">
  <div style="display: flex; gap: 20px; height: 100%; align-items: flex-start; padding: 20px;">
    <div style="flex: 0 0 50%; padding-right: 20px; text-align: left; display: flex; flex-direction: column;">
      <h2 style="font-size: 1.3em; margin-top: 0; text-align: left;">Jaccard Similarity Heatmap</h2>
      <p style="font-size: 0.9em; line-height: 1.5; margin-top: 15px; text-align: left;">
        <strong>Top 12 European clubs</strong> with the most connected transfer histories - the giants who frequently exchange players.
      </p>
      <p style="font-size: 0.85em; line-height: 1.5; margin-top: 15px; text-align: left;">
        Each cell shows the <strong>Jaccard similarity</strong> - the percentage of players who have played for both clubs.
      </p>
      <p style="font-size: 0.85em; line-height: 1.5; margin-top: 15px; text-align: left;">
        <strong>Chelsea ‚Üî Arsenal: 7.7%</strong> is the highest - reflecting their frequent player exchanges in the Premier League.
      </p>
      <p style="font-size: 0.8em; margin-top: 20px; padding: 10px; background: #fff3e0; border-radius: 5px; text-align: left;">
        üí° <strong>Tip:</strong> Click dendrogram branches to highlight club clusters with similar transfer patterns
      </p>
      <div id="jaccard-heatmap-premier-dendrogram" style="width: 100%; flex: 1; min-height: 150px; margin-top: 20px;"></div>
    </div>
    <div style="flex: 1; display: flex; justify-content: center; align-items: center; min-height: 0;">
      <div id="jaccard-heatmap-premier" style="width: 100%; height: 100%;"></div>
    </div>
  </div>
</section>

<!-- Slide 3: Jaccard Similarity - Example with Footballers -->
<section>
  <h2>Jaccard Similarity: Player Transfers</h2>
  <div class="two-columns">
    <div class="column">
      <h3>Arsenal (2020-2024)</h3>
      <ul style="font-size: 0.85em; text-align: left;">
        <li>Declan Rice</li>
        <li>Kai Havertz</li>
        <li>Martin √òdegaard</li>
        <li>Gabriel Jesus</li>
        <li>Bukayo Saka</li>
        <li>William Saliba</li>
        <li>Gabriel Martinelli</li>
      </ul>
    </div>
    <div class="column">
      <h3>Manchester City (2020-2024)</h3>
      <ul style="font-size: 0.85em; text-align: left;">
        <li>Erling Haaland</li>
        <li>Kevin De Bruyne</li>
        <li>Phil Foden</li>
        <li>Bernardo Silva</li>
        <li>Gabriel Jesus ‚úì</li>
        <li>Raheem Sterling</li>
        <li>Jack Grealish</li>
      </ul>
    </div>
  </div>
  <div style="margin-top: 30px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
    <p style="font-size: 1.2em; margin: 0;"><strong>Shared players:</strong> Gabriel Jesus</p>
    <p style="font-size: 1.2em; margin: 10px 0 0 0;"><strong>Jaccard Similarity:</strong> |{Jesus}| / |{All 13 players}| = <strong>1/13 ‚âà 0.077</strong></p>
  </div>
</section>

<!-- Slide 4: Jaccard Similarity - Higher Similarity Example -->
<section>
  <h2>Jaccard Similarity: Chelsea ‚Üî Arsenal</h2>
  <div class="two-columns">
    <div class="column">
      <h3>Chelsea (2018-2024)</h3>
      <ul style="font-size: 0.8em; text-align: left;">
        <li>Kai Havertz ‚úì</li>
        <li>Jorginho ‚úì</li>
        <li>David Luiz ‚úì</li>
        <li>Willian ‚úì</li>
        <li>Olivier Giroud ‚úì</li>
        <li>Petr ƒåech ‚úì</li>
        <li>N'Golo Kant√©</li>
        <li>Mason Mount</li>
      </ul>
    </div>
    <div class="column">
      <h3>Arsenal (2018-2024)</h3>
      <ul style="font-size: 0.8em; text-align: left;">
        <li>Kai Havertz ‚úì</li>
        <li>Jorginho ‚úì</li>
        <li>David Luiz ‚úì</li>
        <li>Willian ‚úì</li>
        <li>Olivier Giroud ‚úì</li>
        <li>Petr ƒåech ‚úì</li>
        <li>Bukayo Saka</li>
        <li>Martin √òdegaard</li>
      </ul>
    </div>
  </div>
  <div style="margin-top: 30px; padding: 20px; background: #e8f4f8; border-radius: 8px;">
    <p style="font-size: 1.1em; margin: 0;"><strong>Shared:</strong> Havertz, Jorginho, Luiz, Willian, Giroud, ƒåech (6 players)</p>
    <p style="font-size: 1.2em; margin: 10px 0 0 0; color: #2c3e50;"><strong>Jaccard:</strong> 6 / 10 = <strong>0.60</strong> ‚Üê High similarity!</p>
  </div>
</section>

<!-- Slide 5: Jaccard Network Visualization -->
<section class="interactive-slide">
  <h2>European Big 5 Leagues: Player Transfer Network</h2>
  <p style="font-size: 0.9em;">193 clubs from Premier League, La Liga, Serie A, Bundesliga, and Ligue 1</p>
  <div id="jaccard-network-container" style="width: 100%; height: 700px;"></div>
  <p class="attribution" style="font-size: 12px; margin-top: 10px;">
    Interactive network showing clubs connected by shared player histories (2010-2026)
  </p>
</section>
